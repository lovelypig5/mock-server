{"version":3,"sources":["webpack:///2.06207a06a0d39a6095eb.js","webpack:///login.vue","webpack:///./templates/login.html","webpack:///./js/features/login.vue"],"names":["webpackJsonp","RJ+I","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","process","Vue","$","__WEBPACK_IMPORTED_MODULE_0_templates_login_html__","__WEBPACK_IMPORTED_MODULE_0_templates_login_html___default","n","__WEBPACK_IMPORTED_MODULE_1_config_api__","__WEBPACK_IMPORTED_MODULE_2__vuex_store__","__WEBPACK_IMPORTED_MODULE_3_js_cookie__","__WEBPACK_IMPORTED_MODULE_3_js_cookie___default","domain","env","NODE_ENV","Login","extend","store","template","a","name","data","rememberMe","get","userName","password","loading","login","methods","alert","obj","this","$store","dispatch","getUser","doLogin","self","ajax","url","type","JSON","stringify","done","resp","opt","expires","set","remove","token","ajaxSetup","headers","Access-Token","$router","push","path","fail","show","msg","responseText","always","call","WA0P","exports","ux8B","__vue_script__","__vue_styles__","__esModule","default","__vue_options__","options","computed","keys","forEach","key"],"mappings":"AAAAA,cAAc,IAERC,OACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,IACtC,SAASC,EAASC,EAAKC,GAAyB,GAAIC,GAAqDP,EAAoB,QAChIQ,EAA6DR,EAAoBS,EAAEF,GACnFG,EAA2CV,EAAoB,QAC/DW,EAA4CX,EAAoB,QAChEY,EAA0CZ,EAAoB,QAC9Da,EAAkDb,EAAoBS,EAAEG,GCNjGE,EAAA,kBACA,gBAAAV,EAAAW,IAAAC,WACAF,EAAA,YAGA,IAAAG,GAAAZ,EAAAa,QACAC,MAAAR,EAAA,EACAS,SAAAZ,EAAAa,EACAC,KAAA,QACAC,KAJA,WAKA,GAAAC,KAAAX,EAAAQ,EAAAI,IAAA,aACA,QACAC,SAAAF,EAAAX,EAAAQ,EAAAI,IAAA,WACAE,SAAAH,EAAAX,EAAAQ,EAAAI,IAAA,eACAD,aACAI,SACAC,OAAA,KAIAC,SACAC,MADA,SACAC,GACAC,KAAAC,OAAAC,SAAA,QAAAH,IAEAI,QAJA,WAKAH,KAAAC,OAAAC,SAAA,SAEAE,QAPA,WAQA,GAAAC,GAAAL,IAMAK,GAAAV,QAAAC,QAGAS,EAAAV,QAAAC,OAAAS,EAAAV,QAAAC,MAEAvB,EAAAiC,MACAC,IAAA9B,EAAA,EAAAmB,MACAY,KAAA,OACAlB,KAAAmB,KAAAC,WACAjB,SAAAY,EAAAZ,SACAC,SAAAW,EAAAX,aAEAiB,KAAA,SAAAC,GACA,GAAAP,EAAAd,WAAA,CACA,GAAAsB,IACAC,QAAA,IACAjC,SAEAD,GAAAQ,EAAA2B,IAAA,aAAAV,EAAAd,WAAAsB,GACAjC,EAAAQ,EAAA2B,IAAA,OAAAV,EAAAZ,SAAAoB,GACAjC,EAAAQ,EAAA2B,IAAA,WAAAV,EAAAX,SAAAmB,OAEAjC,GAAAQ,EAAA4B,OAAA,cACApC,EAAAQ,EAAA4B,OAAA,QACApC,EAAAQ,EAAA4B,OAAA,WAEApC,GAAAQ,EAAA2B,IAAA,eAAAH,EAAAK,OACAH,QAAA,EACAjC,WAEAR,EAAA6C,WACAC,SACAC,eAAAR,EAAAK,SAGAZ,EAAAF,UACAE,EAAAgB,QAAAC,MACAC,KAAA,eAEAC,KAAA,SAAAZ,GACAP,EAAAP,OACA2B,MAAA,EACAC,IAAAd,EAAAe,cAAA,OACAnB,KAAA,YAEAoB,OAAA,WACAvB,EAAAV,QAAAC,OAAAS,EAAAV,QAAAC,YAMA9B,GAAA,WDkB6B+D,KAAK/D,EAAqBC,EAAoB,QAASA,EAAoB,QAASA,EAAoB,UAI/H+D,KACA,SAAUjE,EAAQkE,GEnHxBlE,EAAAkE,QAAA,w3BFyHMC,KACA,SAAUnE,EAAQkE,EAAShE,GG1HjC,GAAAkE,GACAC,IACAD,GAAAlE,EAAA,QACAF,EAAAkE,QAAAE,MACApE,EAAAkE,QAAAI,aAAAtE,EAAAkE,QAAAlE,EAAAkE,QAAAK,QACA,IAAAC,GAAA,kBAAAxE,GAAAkE,QAAAlE,EAAAkE,QAAAO,UAAAzE,EAAAkE,QAAAO,YAAoHzE,EAAAkE,OAIpHM,GAAAE,WAAAF,EAAAE,aACAvE,OAAAwE,KAAAN,GAAAO,QAAA,SAAAC,GACA,GAAA7E,GAAAqE,EAAAQ,EACAL,GAAAE,SAAAG,GAAA,WAA6C,MAAA7E","file":"2.06207a06a0d39a6095eb.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ \"RJ+I\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(process, Vue, $) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_login_html__ = __webpack_require__(\"WA0P\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_login_html___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_templates_login_html__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_config_api__ = __webpack_require__(\"k06x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vuex_store__ = __webpack_require__(\"dV3E\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_js_cookie__ = __webpack_require__(\"lbHh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_js_cookie___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_js_cookie__);\n// <script>\n\n\n\n\n\nvar domain = 'mock.out2man.com';\nif (process.env.NODE_ENV == \"development\") {\n    domain = 'localhost';\n}\n\nvar Login = Vue.extend({\n    store: __WEBPACK_IMPORTED_MODULE_2__vuex_store__[\"a\" /* default */],\n    template: __WEBPACK_IMPORTED_MODULE_0_templates_login_html___default.a,\n    name: 'login',\n    data: function data() {\n        var rememberMe = !!__WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.get('rememberMe');\n        return {\n            userName: rememberMe ? __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.get('name') : \"\",\n            password: rememberMe ? __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.get('password') : \"\",\n            rememberMe: rememberMe,\n            loading: {\n                login: false\n            }\n        };\n    },\n\n    methods: {\n        alert: function alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        getUser: function getUser() {\n            this.$store.dispatch('user');\n        },\n        doLogin: function doLogin() {\n            var self = this;\n            // self.$validate(true);\n            // if (self.$v.invalid) {\n            //     return;\n            // }\n\n            if (self.loading.login) {\n                return;\n            }\n            self.loading.login = !self.loading.login;\n\n            $.ajax({\n                url: __WEBPACK_IMPORTED_MODULE_1_config_api__[\"a\" /* default */].login,\n                type: 'post',\n                data: JSON.stringify({\n                    userName: self.userName,\n                    password: self.password\n                })\n            }).done(function (resp) {\n                if (self.rememberMe) {\n                    var opt = {\n                        expires: 365,\n                        domain: domain\n                    };\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set('rememberMe', self.rememberMe, opt);\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set('name', self.userName, opt);\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set('password', self.password, opt);\n                } else {\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.remove('rememberMe');\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.remove('name');\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.remove('password');\n                }\n                __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set('access-token', resp.token, {\n                    expires: 1,\n                    domain: domain\n                });\n                $.ajaxSetup({\n                    headers: {\n                        'Access-Token': resp.token\n                    }\n                });\n                self.getUser();\n                self.$router.push({\n                    path: '/project'\n                });\n            }).fail(function (resp) {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '登录失败',\n                    type: 'error'\n                });\n            }).always(function () {\n                self.loading.login = !self.loading.login;\n            });\n        }\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Login);\n// </script>\n\n/* generated by vue-loader */\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"dGDx\"), __webpack_require__(\"I3G/\"), __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"WA0P\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=login-page> <div class=container> <div class=row> <div class=\\\"col-md-4 col-md-offset-4\\\"> <div class=\\\"login-panel panel panel-default\\\"> <div class=panel-heading> <h3 class=panel-title>请先登录</h3> </div> <div class=panel-body> <fieldset> <div class=form-group> <input type=text class=form-control placeholder=用户名 aria-describedby=userName v-model=userName @keyup.enter=doLogin /> </div> <div class=form-group> <input type=password class=form-control placeholder=密码 aria-describedby=password v-model=password @keyup.enter=doLogin /> </div> <div class=checkbox> <label> <input name=remember type=checkbox v-model=rememberMe>记住我 </label> </div> <a href=javascript:void(0) class=\\\"btn btn-lg btn-success btn-block\\\" @click=doLogin> <template v-if=loading.login> 登录中 </template> <template v-if=!loading.login> 登录 </template> </a> </fieldset> </div> </div> </div> </div> </div> </div> \";\n\n/***/ }),\n\n/***/ \"ux8B\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = __webpack_require__(\"RJ+I\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.06207a06a0d39a6095eb.js","<script>\nimport template from 'templates/login.html';\nimport API from 'config/api';\nimport store from '../vuex/store';\nimport Cookies from 'js-cookie';\n\nvar domain = 'mock.out2man.com';\nif (process.env.NODE_ENV == \"development\") {\n    domain = 'localhost';\n}\n\nvar Login = Vue.extend({\n    store,\n    template: template,\n    name: 'login',\n    data() {\n        var rememberMe = !!Cookies.get('rememberMe');\n        return {\n            userName: rememberMe ? Cookies.get('name') : \"\",\n            password: rememberMe ? Cookies.get('password') : \"\",\n            rememberMe: rememberMe,\n            loading: {\n                login: false\n            }\n        }\n    },\n    methods: {\n        alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        getUser() {\n            this.$store.dispatch('user');\n        },\n        doLogin() {\n            var self = this;\n            // self.$validate(true);\n            // if (self.$v.invalid) {\n            //     return;\n            // }\n\n            if (self.loading.login) {\n                return;\n            }\n            self.loading.login = !self.loading.login;\n\n            $.ajax({\n                url: API.login,\n                type: 'post',\n                data: JSON.stringify({\n                    userName: self.userName,\n                    password: self.password\n                })\n            }).done((resp) => {\n                if (self.rememberMe) {\n                    var opt = {\n                        expires: 365,\n                        domain: domain\n                    };\n                    Cookies.set('rememberMe', self.rememberMe, opt);\n                    Cookies.set('name', self.userName, opt);\n                    Cookies.set('password', self.password, opt);\n                } else {\n                    Cookies.remove('rememberMe');\n                    Cookies.remove('name');\n                    Cookies.remove('password');\n                }\n                Cookies.set('access-token', resp.token, {\n                    expires: 1,\n                    domain: domain\n                });\n                $.ajaxSetup({\n                    headers: {\n                        'Access-Token': resp.token\n                    }\n                })\n                self.getUser();\n                self.$router.push({\n                    path: '/project'\n                });\n            }).fail((resp) => {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '登录失败',\n                    type: 'error'\n                })\n            }).always(() => {\n                self.loading.login = !self.loading.login;\n            })\n        }\n    }\n})\n\nexport default Login;\n</script>\n\n\n\n// WEBPACK FOOTER //\n// login.vue?9858d096","module.exports = \"<div class=login-page> <div class=container> <div class=row> <div class=\\\"col-md-4 col-md-offset-4\\\"> <div class=\\\"login-panel panel panel-default\\\"> <div class=panel-heading> <h3 class=panel-title>请先登录</h3> </div> <div class=panel-body> <fieldset> <div class=form-group> <input type=text class=form-control placeholder=用户名 aria-describedby=userName v-model=userName @keyup.enter=doLogin /> </div> <div class=form-group> <input type=password class=form-control placeholder=密码 aria-describedby=password v-model=password @keyup.enter=doLogin /> </div> <div class=checkbox> <label> <input name=remember type=checkbox v-model=rememberMe>记住我 </label> </div> <a href=javascript:void(0) class=\\\"btn btn-lg btn-success btn-block\\\" @click=doLogin> <template v-if=loading.login> 登录中 </template> <template v-if=!loading.login> 登录 </template> </a> </fieldset> </div> </div> </div> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./templates/login.html\n// module id = WA0P\n// module chunks = 2","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?{\\\"presets\\\":[[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-preset-env/lib/index.js\\\",{\\\"modules\\\":false}]],\\\"plugins\\\":[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-plugin-transform-es2015-destructuring/lib/index.js\\\"],\\\"cacheDirectory\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./login.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/features/login.vue\n// module id = ux8B\n// module chunks = 2"],"sourceRoot":""}