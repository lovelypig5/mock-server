{"version":3,"sources":["webpack:///0.9d1808d554172134c52e.js","webpack:///./js/features/project/list.vue","webpack:///list.vue?53ef","webpack:///./js/events.js","webpack:///./js/features/project/edit.vue","webpack:///./js/features/project/project.vue","webpack:///./templates/features/project/header.html","webpack:///./js/features/project/header.vue","webpack:///./templates/features/project/list.html","webpack:///project.vue","webpack:///./templates/features/project/edit.html","webpack:///header.vue","webpack:///edit.vue","webpack:///./templates/features/project/project.html"],"names":["webpackJsonp","IlWp","module","exports","__webpack_require__","__vue_script__","__vue_styles__","__esModule","default","__vue_options__","options","computed","Object","keys","forEach","key","K1KO","__webpack_exports__","defineProperty","value","Vue","$","__WEBPACK_IMPORTED_MODULE_0_templates_features_project_list_html__","__WEBPACK_IMPORTED_MODULE_0_templates_features_project_list_html___default","n","__WEBPACK_IMPORTED_MODULE_1__header_vue__","__WEBPACK_IMPORTED_MODULE_1__header_vue___default","__WEBPACK_IMPORTED_MODULE_2__project_vue__","__WEBPACK_IMPORTED_MODULE_2__project_vue___default","__WEBPACK_IMPORTED_MODULE_3__edit_vue__","__WEBPACK_IMPORTED_MODULE_3__edit_vue___default","__WEBPACK_IMPORTED_MODULE_4_config_api__","__WEBPACK_IMPORTED_MODULE_5__events__","ProjectList","extend","name","template","a","components","projectHeader","project","data","projects","loading","fetch","created","$on","this","modify","add","beforeDestroy","$off","methods","alert","obj","$store","dispatch","modal","self","ajax","url","projectlist","done","result","fail","resp","show","msg","responseText","type","always","index","splice","push","addProject","component","mounted","call","KJ6L","events","N3ez","NqvB","TZB4","Uyhh","gWBi","o7S4","__WEBPACK_IMPORTED_MODULE_0_templates_features_project_project_html__","__WEBPACK_IMPORTED_MODULE_0_templates_features_project_project_html___default","__WEBPACK_IMPORTED_MODULE_1__edit_vue__","__WEBPACK_IMPORTED_MODULE_1__edit_vue___default","Project","props","edit","oXYe","w+CH","__WEBPACK_IMPORTED_MODULE_0_templates_features_project_header_html__","__WEBPACK_IMPORTED_MODULE_0_templates_features_project_header_html___default","ProjectHeader","user","state","getUser","login","store","$router","path","logout","wdgI","__WEBPACK_IMPORTED_MODULE_0_templates_features_project_edit_html__","__WEBPACK_IMPORTED_MODULE_0_templates_features_project_edit_html___default","__WEBPACK_IMPORTED_MODULE_1_config_api__","__WEBPACK_IMPORTED_MODULE_2__events__","ProjectEdit","_id","desc","beginPath","isPublic","proxy","editing","post","delete","assign","save","indexOf","JSON","stringify","$emit","$el","find","click","remove","confirm","weH4"],"mappings":"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","file":"0.9d1808d554172134c52e.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"IlWp\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = __webpack_require__(\"K1KO\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n/***/ }),\n\n/***/ \"K1KO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(Vue, $) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_features_project_list_html__ = __webpack_require__(\"gWBi\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_features_project_list_html___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_templates_features_project_list_html__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__header_vue__ = __webpack_require__(\"Uyhh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__header_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__project_vue__ = __webpack_require__(\"NqvB\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__project_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__project_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__edit_vue__ = __webpack_require__(\"N3ez\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__edit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__edit_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_config_api__ = __webpack_require__(\"k06x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__events__ = __webpack_require__(\"KJ6L\");\n// <script>\n\n\n\n\n\n\n\nvar ProjectList = Vue.extend({\n    name: 'project-list',\n    template: __WEBPACK_IMPORTED_MODULE_0_templates_features_project_list_html___default.a,\n    components: {\n        projectHeader: __WEBPACK_IMPORTED_MODULE_1__header_vue___default.a,\n        project: __WEBPACK_IMPORTED_MODULE_2__project_vue___default.a\n    },\n    data: function data() {\n        return {\n            projects: [],\n            loading: {\n                fetch: false\n            }\n        };\n    },\n    created: function created() {\n        __WEBPACK_IMPORTED_MODULE_5__events__[\"a\" /* default */].$on('removeProject', this.modify);\n        __WEBPACK_IMPORTED_MODULE_5__events__[\"a\" /* default */].$on('modifyProject', this.modify);\n        __WEBPACK_IMPORTED_MODULE_5__events__[\"a\" /* default */].$on('addProject', this.add);\n    },\n    beforeDestroy: function beforeDestroy() {\n        __WEBPACK_IMPORTED_MODULE_5__events__[\"a\" /* default */].$off('removeProject', this.modify);\n        __WEBPACK_IMPORTED_MODULE_5__events__[\"a\" /* default */].$off('modifyProject', this.modify);\n        __WEBPACK_IMPORTED_MODULE_5__events__[\"a\" /* default */].$off('addProject', this.add);\n    },\n\n    methods: {\n        alert: function alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        modal: function modal(obj) {\n            this.$store.dispatch('modal', obj);\n        },\n        fetch: function fetch() {\n            var self = this;\n            if (self.loading.fetch) {\n                return;\n            }\n            self.loading.fetch = !self.loading.fetch;\n\n            $.ajax({\n                url: __WEBPACK_IMPORTED_MODULE_4_config_api__[\"a\" /* default */].projectlist\n            }).done(function (result) {\n                self.projects = result;\n            }).fail(function (resp) {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '获取mockapi列表失败',\n                    type: 'error'\n                });\n            }).always(function () {\n                self.loading.fetch = !self.loading.fetch;\n            });\n        },\n        modify: function modify(index, project) {\n            if (project) {\n                this.projects.splice(index, 1, project);\n            } else {\n                this.projects.splice(index, 1);\n            }\n        },\n        add: function add(project) {\n            this.projects.push(project);\n        },\n        addProject: function addProject() {\n            this.modal({\n                show: true,\n                type: 'default',\n                options: {},\n                component: __WEBPACK_IMPORTED_MODULE_3__edit_vue___default.a\n            });\n        }\n    },\n    mounted: function mounted() {\n        this.fetch();\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProjectList);\n// </script>\n\n/* generated by vue-loader */\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"I3G/\"), __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"KJ6L\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Vue) {var events = new Vue();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (events);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"I3G/\")))\n\n/***/ }),\n\n/***/ \"N3ez\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = __webpack_require__(\"wdgI\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n/***/ }),\n\n/***/ \"NqvB\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = __webpack_require__(\"o7S4\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n/***/ }),\n\n/***/ \"TZB4\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<nav class=\\\"navbar navbar-default navbar-fixed-top\\\"> <div class=container> <div class=navbar-header> <a class=navbar-brand href=#/project>Mock Server</a> </div> <div id=navbar class=\\\"collapse navbar-collapse\\\"> <ul class=\\\"nav navbar-nav navbar-right\\\"> <li class=active> <a href=/ >Home</a> </li> <li> <a href=https://github.com/vvpvvp/UMock#readme target=_blank>文档</a> </li> <li class=dropdown> <a href=javascript:void(0) @click=login v-if=!user._id>登录</a> <a class=dropdown-toggle data-toggle=dropdown href=# v-if=user._id> <i class=\\\"fa fa-user fa-fw\\\"></i> {{user.displayName}} <i class=\\\"fa fa-caret-down\\\"></i> </a> <ul class=\\\"dropdown-menu dropdown-user\\\" v-if=user._id> <li> <a href=javascript:void(0) @click=logout> <i class=\\\"fa fa-sign-out fa-fw\\\"></i> 注销</a> </li> </ul> </li> </ul> </div> </div> </nav> \";\n\n/***/ }),\n\n/***/ \"Uyhh\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = __webpack_require__(\"w+CH\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n/***/ }),\n\n/***/ \"gWBi\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div> <project-header></project-header> <div class=\\\"container wrapper\\\"> <div class=page-header> <h3>项目<span class=\\\"glyphicon glyphicon-plus newProject\\\" @click=addProject>创建项目</span> </h3> </div> <div class=projectlist> <div v-for=\\\"(project, index) in projects\\\" :key=project._id> <project :project=project :index=index></project> </div> </div> <div class=empty v-if=\\\"!loading.fetch && projects.length == 0\\\"> <div class=msg>还没有配置api，赶紧配置一个</div> </div> <div v-if=loading.fetch> <div class=\\\"loading audio-wave\\\"></div> </div> </div> </div> \";\n\n/***/ }),\n\n/***/ \"o7S4\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(Vue) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_features_project_project_html__ = __webpack_require__(\"weH4\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_features_project_project_html___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_templates_features_project_project_html__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__edit_vue__ = __webpack_require__(\"N3ez\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__edit_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__edit_vue__);\n// <script>\n\n\n\nvar Project = Vue.extend({\n    name: 'project',\n    template: __WEBPACK_IMPORTED_MODULE_0_templates_features_project_project_html___default.a,\n    props: ['project', 'index'],\n    methods: {\n        modal: function modal(obj) {\n            this.$store.dispatch('modal', obj);\n        },\n        edit: function edit(project) {\n            this.modal({\n                show: true,\n                type: 'default',\n                options: {},\n                data: {\n                    project: this.project,\n                    index: this.index\n                },\n                component: __WEBPACK_IMPORTED_MODULE_1__edit_vue___default.a\n            });\n        }\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Project);\n// </script>\n\n/* generated by vue-loader */\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"I3G/\")))\n\n/***/ }),\n\n/***/ \"oXYe\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal aria-label=Close> <span aria-hidden=true>&times;</span> </button> <h4 class=modal-title id=exampleModalLabel>项目</h4> </div> <div class=modal-body> <div class=form-group> <label for=recipient-name class=control-label>项目名称:</label> <input type=text class=form-control v-model=project.name> </div> <div class=form-group> <label for=recipient-name class=control-label>描述:</label> <input type=text class=form-control v-model=project.desc> </div> <div class=form-group> <label for=recipient-name class=control-label>种类:</label> </div> <div class=form-group> <label class=radio-inline> <input type=radio name=type v-model=project.isPublic value=1> URL前缀 </label> <label class=radio-inline> <input type=radio name=type v-model=project.isPublic value=0> HEAD参数 </label> </div> <div class=form-group> <label for=recipient-name class=control-label>前缀区分/设定HEAD的author参数:</label> <input type=text class=form-control v-model=project.beginPath> </div> <div class=form-group> <label for=recipient-name class=control-label>反向代理地址:</label> <input type=text class=form-control v-model=project.proxy> </div> </div> <div class=modal-footer> <button type=button v-if=editing class=\\\"btn btn-danger\\\" id=editButton @click=remove>删除</button> <button type=button class=\\\"btn btn-primary\\\" id=editButton @click=save>保存</button> <button type=button class=\\\"btn btn-default _close\\\" data-dismiss=modal>关闭</button> </div> </div> \";\n\n/***/ }),\n\n/***/ \"w+CH\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(Vue) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_features_project_header_html__ = __webpack_require__(\"TZB4\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_features_project_header_html___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_templates_features_project_header_html__);\n// <script>\n\n\nvar ProjectHeader = Vue.extend({\n    template: __WEBPACK_IMPORTED_MODULE_0_templates_features_project_header_html___default.a,\n    name: 'project-header',\n    computed: {\n        user: function user() {\n            return this.$store.state.user;\n        }\n    },\n    mounted: function mounted() {\n        this.getUser();\n    },\n\n    methods: {\n        login: function login(store) {\n            this.$router.push({\n                path: '/login'\n            });\n        },\n        logout: function logout() {\n            this.$store.dispatch('logout');\n        },\n        getUser: function getUser() {\n            this.$store.dispatch('user');\n        }\n    }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProjectHeader);\n// </script>\n\n/* generated by vue-loader */\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"I3G/\")))\n\n/***/ }),\n\n/***/ \"wdgI\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(Vue, $) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_features_project_edit_html__ = __webpack_require__(\"oXYe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_features_project_edit_html___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_templates_features_project_edit_html__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_config_api__ = __webpack_require__(\"k06x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__events__ = __webpack_require__(\"KJ6L\");\n// <script>\n\n\n\n\nvar ProjectEdit = Vue.extend({\n    name: 'project-edit',\n    template: __WEBPACK_IMPORTED_MODULE_0_templates_features_project_edit_html___default.a,\n    props: ['data'],\n    data: function data() {\n        return {\n            project: {\n                _id: \"\",\n                name: \"\",\n                desc: \"\",\n                beginPath: \"\",\n                isPublic: \"1\",\n                proxy: \"\"\n            },\n            editing: false,\n            loading: {\n                post: false,\n                delete: false\n            }\n        };\n    },\n    mounted: function mounted() {\n        if (this.data) {\n            Object.assign(this.project, this.data.project);\n            this.index = this.data.index;\n\n            this.editing = true;\n        }\n    },\n\n    methods: {\n        alert: function alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        save: function save() {\n            var self = this;\n            if (this.project.name === \"\" || this.project.beginPath === \"\" || this.project.proxy === \"\") {\n                self.alert({\n                    show: true,\n                    msg: '参数不全',\n                    type: 'error'\n                });\n                return false;\n            } else if (this.project.beginPath.isPublic == 1 && this.project.beginPath.indexOf(\"\\/\") !== 0) {\n                self.alert({\n                    show: true,\n                    msg: 'url前缀必须以/开头',\n                    type: 'error'\n                });\n                return false;\n            } else if (this.project.beginPath.indexOf(\"/_system\") != -1) {\n                self.alert({\n                    show: true,\n                    msg: 'url前缀不能以/_system开头，与系统接口冲突，同时下划线命名不规范',\n                    type: 'error'\n                });\n                return false;\n            }\n            if (self.loading.post) {\n                return;\n            }\n            self.loading.post = !self.loading.post;\n\n            var url = __WEBPACK_IMPORTED_MODULE_1_config_api__[\"a\" /* default */].project;\n            if (self.editing) {\n                url = url + '/' + self.project._id;\n            }\n            $.ajax({\n                url: url,\n                type: 'post',\n                data: JSON.stringify(self.project)\n            }).done(function (result) {\n                if (self.editing) {\n                    __WEBPACK_IMPORTED_MODULE_2__events__[\"a\" /* default */].$emit('modifyProject', self.index, self.project);\n                } else {\n                    __WEBPACK_IMPORTED_MODULE_2__events__[\"a\" /* default */].$emit('addProject', result);\n                }\n\n                $(self.$el).find('._close').click();\n            }).fail(function (resp) {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '修改项目失败',\n                    type: 'error'\n                });\n            }).always(function () {\n                self.loading.post = !self.loading.post;\n            });\n        },\n        remove: function remove() {\n            var self = this;\n            if (self.loading.delete) {\n                return;\n            }\n            self.loading.delete = !self.loading.delete;\n            if (!confirm(\"确定删除\")) {\n                return;\n            }\n            $.ajax({\n                url: __WEBPACK_IMPORTED_MODULE_1_config_api__[\"a\" /* default */].project + \"/\" + this.project._id,\n                type: \"DELETE\"\n            }).fail(function (resp) {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '删除项目失败',\n                    type: 'error'\n                });\n            }).done(function (result) {\n                __WEBPACK_IMPORTED_MODULE_2__events__[\"a\" /* default */].$emit('removeProject', self.index);\n                $(self.$el).find('._close').click();\n            }).always(function () {\n                self.loading.delete = !self.loading.delete;\n            });\n        }\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProjectEdit);\n// </script>\n\n/* generated by vue-loader */\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"I3G/\"), __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"weH4\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div :class=\\\"['alert-gray','alert-success'][project.isPublic]\\\" role=alert class=\\\"project alert\\\"> <h4> <span class=label :class=\\\"['label-primary','label-success'][project.isPublic]\\\"> {{project.beginPath}} </span> <router-link :to=\\\"{name:'mockSet' ,params:{id:project._id}}\\\" class=alert-link> {{project.name}} - {{[\\\"HEAD参数\\\",\\\"URL前缀\\\"][project.isPublic]}} </router-link> <span class=\\\"pointer glyphicon glyphicon-edit\\\" @click=edit(project)></span> </h4> <p>{{project.desc}}</p> </div> \";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 0.9d1808d554172134c52e.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?{\\\"presets\\\":[[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-preset-env/lib/index.js\\\",{\\\"modules\\\":false}]],\\\"plugins\\\":[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-plugin-transform-es2015-destructuring/lib/index.js\\\"],\\\"cacheDirectory\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./list.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/features/project/list.vue\n// module id = IlWp\n// module chunks = 0","<script>\nimport template from 'templates/features/project/list.html';\nimport Header from './header.vue';\nimport Project from './project.vue';\nimport Edit from './edit.vue';\nimport API from 'config/api';\nimport events from '../../events';\n\nconst ProjectList = Vue.extend({\n    name: 'project-list',\n    template: template,\n    components: {\n        projectHeader: Header,\n        project: Project\n    },\n    data() {\n        return {\n            projects: [],\n            loading: {\n                fetch: false\n            }\n        };\n    },\n    created() {\n        events.$on('removeProject', this.modify);\n        events.$on('modifyProject', this.modify);\n        events.$on('addProject', this.add);\n    },\n    beforeDestroy() {\n        events.$off('removeProject', this.modify);\n        events.$off('modifyProject', this.modify);\n        events.$off('addProject', this.add);\n    },\n    methods: {\n        alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        modal(obj) {\n            this.$store.dispatch('modal', obj);\n        },\n        fetch() {\n            var self = this;\n            if (self.loading.fetch) {\n                return;\n            }\n            self.loading.fetch = !self.loading.fetch;\n\n            $.ajax({\n                url: API.projectlist\n            }).done((result) => {\n                self.projects = result;\n            }).fail((resp) => {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '获取mockapi列表失败',\n                    type: 'error'\n                })\n            }).always(() => {\n                self.loading.fetch = !self.loading.fetch;\n            })\n        },\n        modify(index, project) {\n            if (project) {\n                this.projects.splice(index, 1, project);\n            } else {\n                this.projects.splice(index, 1);\n            }\n        },\n        add(project) {\n            this.projects.push(project);\n        },\n        addProject() {\n            this.modal({\n                show: true,\n                type: 'default',\n                options: {},\n                component: Edit\n            })\n        }\n    },\n    mounted() {\n        this.fetch();\n    }\n});\n\nexport default ProjectList;\n</script>\n\n\n\n// WEBPACK FOOTER //\n// list.vue?3c9b0bb1","var events = new Vue();\n\nexport default events;\n\n\n\n// WEBPACK FOOTER //\n// ./js/events.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?{\\\"presets\\\":[[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-preset-env/lib/index.js\\\",{\\\"modules\\\":false}]],\\\"plugins\\\":[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-plugin-transform-es2015-destructuring/lib/index.js\\\"],\\\"cacheDirectory\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./edit.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/features/project/edit.vue\n// module id = N3ez\n// module chunks = 0","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?{\\\"presets\\\":[[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-preset-env/lib/index.js\\\",{\\\"modules\\\":false}]],\\\"plugins\\\":[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-plugin-transform-es2015-destructuring/lib/index.js\\\"],\\\"cacheDirectory\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./project.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/features/project/project.vue\n// module id = NqvB\n// module chunks = 0","module.exports = \"<nav class=\\\"navbar navbar-default navbar-fixed-top\\\"> <div class=container> <div class=navbar-header> <a class=navbar-brand href=#/project>Mock Server</a> </div> <div id=navbar class=\\\"collapse navbar-collapse\\\"> <ul class=\\\"nav navbar-nav navbar-right\\\"> <li class=active> <a href=/ >Home</a> </li> <li> <a href=https://github.com/vvpvvp/UMock#readme target=_blank>文档</a> </li> <li class=dropdown> <a href=javascript:void(0) @click=login v-if=!user._id>登录</a> <a class=dropdown-toggle data-toggle=dropdown href=# v-if=user._id> <i class=\\\"fa fa-user fa-fw\\\"></i> {{user.displayName}} <i class=\\\"fa fa-caret-down\\\"></i> </a> <ul class=\\\"dropdown-menu dropdown-user\\\" v-if=user._id> <li> <a href=javascript:void(0) @click=logout> <i class=\\\"fa fa-sign-out fa-fw\\\"></i> 注销</a> </li> </ul> </li> </ul> </div> </div> </nav> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./templates/features/project/header.html\n// module id = TZB4\n// module chunks = 0","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?{\\\"presets\\\":[[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-preset-env/lib/index.js\\\",{\\\"modules\\\":false}]],\\\"plugins\\\":[\\\"/Users/warren/Documents/workspace/kil/node_modules/babel-plugin-transform-es2015-destructuring/lib/index.js\\\"],\\\"cacheDirectory\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./header.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/features/project/header.vue\n// module id = Uyhh\n// module chunks = 0","module.exports = \"<div> <project-header></project-header> <div class=\\\"container wrapper\\\"> <div class=page-header> <h3>项目<span class=\\\"glyphicon glyphicon-plus newProject\\\" @click=addProject>创建项目</span> </h3> </div> <div class=projectlist> <div v-for=\\\"(project, index) in projects\\\" :key=project._id> <project :project=project :index=index></project> </div> </div> <div class=empty v-if=\\\"!loading.fetch && projects.length == 0\\\"> <div class=msg>还没有配置api，赶紧配置一个</div> </div> <div v-if=loading.fetch> <div class=\\\"loading audio-wave\\\"></div> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./templates/features/project/list.html\n// module id = gWBi\n// module chunks = 0","<script>\nimport template from 'templates/features/project/project.html';\nimport Edit from './edit.vue';\n\nconst Project = Vue.extend({\n    name: 'project',\n    template: template,\n    props: ['project', 'index'],\n    methods: {\n        modal(obj) {\n            this.$store.dispatch('modal', obj);\n        },\n        edit(project) {\n            this.modal({\n                show: true,\n                type: 'default',\n                options: {},\n                data: {\n                    project: this.project,\n                    index: this.index\n                },\n                component: Edit\n            })\n        }\n    }\n});\n\nexport default Project;\n</script>\n\n\n\n// WEBPACK FOOTER //\n// project.vue?115b10e5","module.exports = \"<div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal aria-label=Close> <span aria-hidden=true>&times;</span> </button> <h4 class=modal-title id=exampleModalLabel>项目</h4> </div> <div class=modal-body> <div class=form-group> <label for=recipient-name class=control-label>项目名称:</label> <input type=text class=form-control v-model=project.name> </div> <div class=form-group> <label for=recipient-name class=control-label>描述:</label> <input type=text class=form-control v-model=project.desc> </div> <div class=form-group> <label for=recipient-name class=control-label>种类:</label> </div> <div class=form-group> <label class=radio-inline> <input type=radio name=type v-model=project.isPublic value=1> URL前缀 </label> <label class=radio-inline> <input type=radio name=type v-model=project.isPublic value=0> HEAD参数 </label> </div> <div class=form-group> <label for=recipient-name class=control-label>前缀区分/设定HEAD的author参数:</label> <input type=text class=form-control v-model=project.beginPath> </div> <div class=form-group> <label for=recipient-name class=control-label>反向代理地址:</label> <input type=text class=form-control v-model=project.proxy> </div> </div> <div class=modal-footer> <button type=button v-if=editing class=\\\"btn btn-danger\\\" id=editButton @click=remove>删除</button> <button type=button class=\\\"btn btn-primary\\\" id=editButton @click=save>保存</button> <button type=button class=\\\"btn btn-default _close\\\" data-dismiss=modal>关闭</button> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./templates/features/project/edit.html\n// module id = oXYe\n// module chunks = 0","<script>\nimport template from 'templates/features/project/header.html';\n\nconst ProjectHeader = Vue.extend({\n    template: template,\n    name: 'project-header',\n    computed: {\n        user() {\n            return this.$store.state.user;\n        }\n    },\n    mounted() {\n        this.getUser();\n    },\n    methods: {\n        login(store) {\n            this.$router.push({\n                path: '/login'\n            })\n        },\n        logout() {\n            this.$store.dispatch('logout');\n        },\n        getUser() {\n            this.$store.dispatch('user');\n        }\n    }\n})\nexport default ProjectHeader;\n</script>\n\n\n\n// WEBPACK FOOTER //\n// header.vue?529c2226","<script>\nimport template from 'templates/features/project/edit.html';\nimport API from 'config/api';\nimport events from '../../events';\n\nconst ProjectEdit = Vue.extend({\n    name: 'project-edit',\n    template: template,\n    props: ['data'],\n    data() {\n        return {\n            project: {\n                _id: \"\",\n                name: \"\",\n                desc: \"\",\n                beginPath: \"\",\n                isPublic: \"1\",\n                proxy: \"\"\n            },\n            editing: false,\n            loading: {\n                post: false,\n                delete: false\n            }\n        }\n    },\n    mounted() {\n        if (this.data) {\n            Object.assign(this.project, this.data.project);\n            this.index = this.data.index;\n\n            this.editing = true;\n        }\n    },\n    methods: {\n        alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        save() {\n            var self = this;\n            if (this.project.name === \"\" || this.project.beginPath === \"\" || this.project.proxy === \"\") {\n                self.alert({\n                    show: true,\n                    msg: '参数不全',\n                    type: 'error'\n                })\n                return false;\n            } else if (this.project.beginPath.isPublic == 1 && this.project.beginPath.indexOf(\"\\/\") !== 0) {\n                self.alert({\n                    show: true,\n                    msg: 'url前缀必须以/开头',\n                    type: 'error'\n                })\n                return false;\n            } else if (this.project.beginPath.indexOf(\"/_system\") != -1) {\n                self.alert({\n                    show: true,\n                    msg: 'url前缀不能以/_system开头，与系统接口冲突，同时下划线命名不规范',\n                    type: 'error'\n                })\n                return false;\n            }\n            if (self.loading.post) {\n                return;\n            }\n            self.loading.post = !self.loading.post;\n\n            let url = API.project;\n            if (self.editing) {\n                url = url + '/' + self.project._id;\n            }\n            $.ajax({\n                url: url,\n                type: 'post',\n                data: JSON.stringify(self.project)\n            }).done((result) => {\n                if (self.editing) {\n                    events.$emit('modifyProject', self.index, self.project);\n                } else {\n                    events.$emit('addProject', result);\n                }\n\n                $(self.$el).find('._close').click();\n            }).fail((resp) => {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '修改项目失败',\n                    type: 'error'\n                })\n            }).always(() => {\n                self.loading.post = !self.loading.post;\n            })\n        },\n        remove() {\n            var self = this;\n            if (self.loading.delete) {\n                return;\n            }\n            self.loading.delete = !self.loading.delete;\n            if (!confirm(\"确定删除\")) {\n                return;\n            }\n            $.ajax({\n                url: API.project + \"/\" + this.project._id,\n                type: \"DELETE\"\n            }).fail((resp) => {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '删除项目失败',\n                    type: 'error'\n                })\n            }).done((result) => {\n                events.$emit('removeProject', self.index);\n                $(self.$el).find('._close').click();\n            }).always(() => {\n                self.loading.delete = !self.loading.delete;\n            })\n        }\n    }\n})\n\nexport default ProjectEdit;\n</script>\n\n\n\n// WEBPACK FOOTER //\n// edit.vue?06c6f9d0","module.exports = \"<div :class=\\\"['alert-gray','alert-success'][project.isPublic]\\\" role=alert class=\\\"project alert\\\"> <h4> <span class=label :class=\\\"['label-primary','label-success'][project.isPublic]\\\"> {{project.beginPath}} </span> <router-link :to=\\\"{name:'mockSet' ,params:{id:project._id}}\\\" class=alert-link> {{project.name}} - {{[\\\"HEAD参数\\\",\\\"URL前缀\\\"][project.isPublic]}} </router-link> <span class=\\\"pointer glyphicon glyphicon-edit\\\" @click=edit(project)></span> </h4> <p>{{project.desc}}</p> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./templates/features/project/project.html\n// module id = weH4\n// module chunks = 0"],"sourceRoot":""}