{"version":3,"sources":["webpack:///2.9068f5bbbc91cc9b3074.js","webpack:///login.vue","webpack:///./templates/login.html","webpack:///./js/features/login.vue"],"names":["webpackJsonp","CWCr","module","__webpack_exports__","__webpack_require__","Vue","$","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_templates_login_html__","__WEBPACK_IMPORTED_MODULE_0_templates_login_html___default","n","__WEBPACK_IMPORTED_MODULE_1_config_api__","__WEBPACK_IMPORTED_MODULE_2__vuex_store__","__WEBPACK_IMPORTED_MODULE_3_js_cookie__","__WEBPACK_IMPORTED_MODULE_3_js_cookie___default","domain","Login","extend","store","template","a","name","data","rememberMe","get","userName","password","loading","login","methods","alert","obj","this","$store","dispatch","getUser","doLogin","self","ajax","url","type","JSON","stringify","done","resp","opt","expires","set","remove","token","ajaxSetup","headers","Access-Token","$router","push","path","fail","show","msg","responseText","always","call","WA0P","exports","ux8B","__vue_script__","__vue_styles__","__esModule","default","__vue_options__","options","computed","keys","forEach","key"],"mappings":"AAAAA,cAAc,IAERC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,cAC4B,SAASC,EAAKC,GAAIC,OAAOC,eAAeL,EAAqB,cAAgBM,OAAO,GAC3F,IAAIC,GAAqDN,EAAoB,QACzEO,EAA6DP,EAAoBQ,EAAEF,GACnFG,EAA2CT,EAAoB,QAC/DU,EAA4CV,EAAoB,QAChEW,EAA0CX,EAAoB,QAC9DY,EAAkDZ,EAAoBQ,EAAEG,GCNjGE,EAAA,mBAKAC,EAAAb,EAAAc,QAEAC,MAAAN,EAAA,EDaIO,SCZJV,EAAAW,EDaIC,KCZJ,QDaIC,KAAM,WACF,GAAIC,KAAeT,EAAgDM,EAAEI,ICZ7E,aDaQ,QACIC,SAAUF,EAAaT,EAAgDM,EAAEI,IAAI,QCZzF,GDaYE,SAAUH,EAAaT,EAAgDM,EAAEI,IAAI,YCZzF,GDaYD,WCZZA,EDaYI,SACIC,OCVhB,KDeIC,SACIC,MAAO,SAAeC,GAClBC,KAAKC,OAAOC,SAAS,QCbjCH,IDeQI,QAAS,WACLH,KAAKC,OAAOC,SCbxB,SDeQE,QAAS,WACL,GAAIC,GCbhBL,IDmBgBK,GAAKV,QAAQC,QAGjBS,EAAKV,QAAQC,OAASS,EAAKV,QCZvCC,MDcYxB,EAAEkC,MACEC,IAAK5B,EAA0D,ECb/EiB,MDcgBY,KCbhB,ODcgBlB,KAAMmB,KAAKC,WACPjB,SAAUY,ECb9BZ,SDcoBC,SAAUW,ECZ9BX,aANAiB,KAAA,SAAAC,GDqBgB,GAAIP,EAAKd,WCbzB,CDcoB,GAAIsB,IACAC,QCbxB,IDcwB/B,OCZxBA,EDcoBD,GAAgDM,EAAE2B,IAAI,aAAcV,EAAKd,WCb7FsB,GDcoB/B,EAAgDM,EAAE2B,IAAI,OAAQV,EAAKZ,SCbvFoB,GDcoB/B,EAAgDM,EAAE2B,IAAI,WAAYV,EAAKX,SCb3FmB,ODeoB/B,GAAgDM,EAAE4B,OCbtE,cDcoBlC,EAAgDM,EAAE4B,OCbtE,QDcoBlC,EAAgDM,EAAE4B,OCbtE,WDegBlC,GAAgDM,EAAE2B,IAAI,eAAgBH,EAAKK,OACvEH,QCbpB,EDcoB/B,OCZpBA,IDcgBX,EAAE8C,WACEC,SACIC,eAAgBR,ECXxCK,SDcgBZ,ECbhBF,UDcgBE,EAAKgB,QAAQC,MACTC,KCZpB,eDceC,KAAK,SAAUZ,GACdP,EAAKP,OACD2B,MCbpB,EDcoBC,IAAKd,EAAKe,cCb9B,ODcoBnB,KCZpB,YDceoB,OAAO,WACNvB,EAAKV,QAAQC,OAASS,EAAKV,QCb3CC,YAKA3B,GAAA,YDkB6B4D,KAAK5D,EAAqBC,EAAoB,QAASA,EAAoB,UAIlG4D,KACA,SAAU9D,EAAQ+D,GEnHxB/D,EAAA+D,QAAA,w3BFyHMC,KACA,SAAUhE,EAAQ+D,EAAS7D,GG1HjC,GAAA+D,GACAC,IACAD,GAAA/D,EAAA,QACAF,EAAA+D,QAAAE,MACAjE,EAAA+D,QAAAI,aAAAnE,EAAA+D,QAAA/D,EAAA+D,QAAAK,QACA,IAAAC,GAAA,kBAAArE,GAAA+D,QAAA/D,EAAA+D,QAAAO,UAAAtE,EAAA+D,QAAAO,YAAoHtE,EAAA+D,OAIpHM,GAAAE,WAAAF,EAAAE,aACAlE,OAAAmE,KAAAN,GAAAO,QAAA,SAAAC,GACA,GAAA1E,GAAAkE,EAAAQ,EACAL,GAAAE,SAAAG,GAAA,WAA6C,MAAA1E","file":"2.9068f5bbbc91cc9b3074.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ \"CWCr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Vue, $) {Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_login_html__ = __webpack_require__(\"WA0P\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_templates_login_html___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_templates_login_html__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_config_api__ = __webpack_require__(\"k06x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__vuex_store__ = __webpack_require__(\"dV3E\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_js_cookie__ = __webpack_require__(\"lbHh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_js_cookie___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_js_cookie__);\n// <script>\n\n\n\n\n\nvar domain = 'mock.out2man.com';\nif (false) {\n    domain = 'localhost:9000';\n}\n\nvar Login = Vue.extend({\n    store: __WEBPACK_IMPORTED_MODULE_2__vuex_store__[\"a\" /* default */],\n    template: __WEBPACK_IMPORTED_MODULE_0_templates_login_html___default.a,\n    name: 'login',\n    data: function data() {\n        var rememberMe = !!__WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.get('rememberMe');\n        return {\n            userName: rememberMe ? __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.get('name') : \"\",\n            password: rememberMe ? __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.get('password') : \"\",\n            rememberMe: rememberMe,\n            loading: {\n                login: false\n            }\n        };\n    },\n\n    methods: {\n        alert: function alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        getUser: function getUser() {\n            this.$store.dispatch('user');\n        },\n        doLogin: function doLogin() {\n            var self = this;\n            // self.$validate(true);\n            // if (self.$v.invalid) {\n            //     return;\n            // }\n\n            if (self.loading.login) {\n                return;\n            }\n            self.loading.login = !self.loading.login;\n\n            $.ajax({\n                url: __WEBPACK_IMPORTED_MODULE_1_config_api__[\"a\" /* default */].login,\n                type: 'post',\n                data: JSON.stringify({\n                    userName: self.userName,\n                    password: self.password\n                })\n            }).done(function (resp) {\n                if (self.rememberMe) {\n                    var opt = {\n                        expires: 365,\n                        domain: domain\n                    };\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set('rememberMe', self.rememberMe, opt);\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set('name', self.userName, opt);\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set('password', self.password, opt);\n                } else {\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.remove('rememberMe');\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.remove('name');\n                    __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.remove('password');\n                }\n                __WEBPACK_IMPORTED_MODULE_3_js_cookie___default.a.set('access-token', resp.token, {\n                    expires: 1,\n                    domain: domain\n                });\n                $.ajaxSetup({\n                    headers: {\n                        'Access-Token': resp.token\n                    }\n                });\n                self.getUser();\n                self.$router.push({\n                    path: '/project'\n                });\n            }).fail(function (resp) {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '登录失败',\n                    type: 'error'\n                });\n            }).always(function () {\n                self.loading.login = !self.loading.login;\n            });\n        }\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Login);\n// </script>\n\n/* generated by vue-loader */\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"I3G/\"), __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"WA0P\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=login-page> <div class=container> <div class=row> <div class=\\\"col-md-4 col-md-offset-4\\\"> <div class=\\\"login-panel panel panel-default\\\"> <div class=panel-heading> <h3 class=panel-title>请先登录</h3> </div> <div class=panel-body> <fieldset> <div class=form-group> <input type=text class=form-control placeholder=用户名 aria-describedby=userName v-model=userName @keyup.enter=doLogin /> </div> <div class=form-group> <input type=password class=form-control placeholder=密码 aria-describedby=password v-model=password @keyup.enter=doLogin /> </div> <div class=checkbox> <label> <input name=remember type=checkbox v-model=rememberMe>记住我 </label> </div> <a href=javascript:void(0) class=\\\"btn btn-lg btn-success btn-block\\\" @click=doLogin> <template v-if=loading.login> 登录中 </template> <template v-if=!loading.login> 登录 </template> </a> </fieldset> </div> </div> </div> </div> </div> </div> \";\n\n/***/ }),\n\n/***/ \"ux8B\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = __webpack_require__(\"CWCr\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.9068f5bbbc91cc9b3074.js","<script>\nimport template from 'templates/login.html';\nimport API from 'config/api';\nimport store from '../vuex/store';\nimport Cookies from 'js-cookie';\n\nvar domain = 'mock.out2man.com';\nif (process.env.NODE_ENV == \"development\") {\n    domain = 'localhost:9000';\n}\n\nvar Login = Vue.extend({\n    store,\n    template: template,\n    name: 'login',\n    data() {\n        var rememberMe = !!Cookies.get('rememberMe');\n        return {\n            userName: rememberMe ? Cookies.get('name') : \"\",\n            password: rememberMe ? Cookies.get('password') : \"\",\n            rememberMe: rememberMe,\n            loading: {\n                login: false\n            }\n        }\n    },\n    methods: {\n        alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        getUser() {\n            this.$store.dispatch('user');\n        },\n        doLogin() {\n            var self = this;\n            // self.$validate(true);\n            // if (self.$v.invalid) {\n            //     return;\n            // }\n\n            if (self.loading.login) {\n                return;\n            }\n            self.loading.login = !self.loading.login;\n\n            $.ajax({\n                url: API.login,\n                type: 'post',\n                data: JSON.stringify({\n                    userName: self.userName,\n                    password: self.password\n                })\n            }).done((resp) => {\n                if (self.rememberMe) {\n                    var opt = {\n                        expires: 365,\n                        domain: domain\n                    };\n                    Cookies.set('rememberMe', self.rememberMe, opt);\n                    Cookies.set('name', self.userName, opt);\n                    Cookies.set('password', self.password, opt);\n                } else {\n                    Cookies.remove('rememberMe');\n                    Cookies.remove('name');\n                    Cookies.remove('password');\n                }\n                Cookies.set('access-token', resp.token, {\n                    expires: 1,\n                    domain: domain\n                });\n                $.ajaxSetup({\n                    headers: {\n                        'Access-Token': resp.token\n                    }\n                })\n                self.getUser();\n                self.$router.push({\n                    path: '/project'\n                });\n            }).fail((resp) => {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '登录失败',\n                    type: 'error'\n                })\n            }).always(() => {\n                self.loading.login = !self.loading.login;\n            })\n        }\n    }\n})\n\nexport default Login;\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// login.vue?35cc9ad5","module.exports = \"<div class=login-page> <div class=container> <div class=row> <div class=\\\"col-md-4 col-md-offset-4\\\"> <div class=\\\"login-panel panel panel-default\\\"> <div class=panel-heading> <h3 class=panel-title>请先登录</h3> </div> <div class=panel-body> <fieldset> <div class=form-group> <input type=text class=form-control placeholder=用户名 aria-describedby=userName v-model=userName @keyup.enter=doLogin /> </div> <div class=form-group> <input type=password class=form-control placeholder=密码 aria-describedby=password v-model=password @keyup.enter=doLogin /> </div> <div class=checkbox> <label> <input name=remember type=checkbox v-model=rememberMe>记住我 </label> </div> <a href=javascript:void(0) class=\\\"btn btn-lg btn-success btn-block\\\" @click=doLogin> <template v-if=loading.login> 登录中 </template> <template v-if=!loading.login> 登录 </template> </a> </fieldset> </div> </div> </div> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./templates/login.html\n// module id = WA0P\n// module chunks = 2","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?{\\\"presets\\\":[[\\\"G:\\\\\\\\professional\\\\\\\\workspace\\\\\\\\out2man\\\\\\\\kil\\\\\\\\node_modules\\\\\\\\babel-preset-env\\\\\\\\lib\\\\\\\\index.js\\\",{\\\"modules\\\":false}]],\\\"plugins\\\":[\\\"G:\\\\\\\\professional\\\\\\\\workspace\\\\\\\\out2man\\\\\\\\kil\\\\\\\\node_modules\\\\\\\\babel-plugin-transform-es2015-destructuring\\\\\\\\lib\\\\\\\\index.js\\\"],\\\"cacheDirectory\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./login.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/features/login.vue\n// module id = ux8B\n// module chunks = 2"],"sourceRoot":""}