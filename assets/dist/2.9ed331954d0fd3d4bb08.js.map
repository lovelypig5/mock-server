{"version":3,"sources":["webpack:///2.9ed331954d0fd3d4bb08.js","webpack:////usr/local/lib/~/kil/~/core-js/library/fn/json/stringify.js?2f9c*","webpack:///./templates/login.html","webpack:////usr/local/lib/~/kil/~/babel-runtime/core-js/json/stringify.js?abb5*","webpack:///./js/features/login.vue","webpack:///login.vue","webpack:////usr/local/lib/~/kil/~/core-js/library/modules/_core.js?b9c3*"],"names":["webpackJsonp","Ut0f","module","exports","__webpack_require__","core","$JSON","JSON","stringify","it","apply","arguments","WA0P","mBhC","default","__esModule","ux8B","__vue_script__","__vue_styles__","__vue_options__","options","computed","Object","keys","forEach","key","v3dZ","__webpack_exports__","Vue","$","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_templates_login_html__","__WEBPACK_IMPORTED_MODULE_1_templates_login_html___default","__WEBPACK_IMPORTED_MODULE_2_config_api__","__WEBPACK_IMPORTED_MODULE_3__vuex_store__","__WEBPACK_IMPORTED_MODULE_4_js_cookie__","__WEBPACK_IMPORTED_MODULE_4_js_cookie___default","Login","extend","store","template","a","name","data","rememberMe","get","userName","password","loading","login","methods","alert","obj","this","$store","dispatch","getUser","doLogin","self","ajax","url","type","done","resp","set","expires","domain","remove","$router","push","path","fail","show","msg","responseText","always","call","x3GQ","version","__e"],"mappings":"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","file":"2.9ed331954d0fd3d4bb08.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ \"Ut0f\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core  = __webpack_require__(\"x3GQ\")\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n/***/ }),\n\n/***/ \"WA0P\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"<div class=login-page> <div class=container> <div class=row> <div class=\\\"col-md-4 col-md-offset-4\\\"> <div class=\\\"login-panel panel panel-default\\\"> <div class=panel-heading> <h3 class=panel-title>请先登录</h3> </div> <div class=panel-body> <fieldset> <div class=form-group> <input type=text class=form-control placeholder=用户名 aria-describedby=userName v-model=userName @keyup.enter=doLogin /> </div> <div class=form-group> <input type=password class=form-control placeholder=密码 aria-describedby=password v-model=password @keyup.enter=doLogin /> </div> <div class=checkbox> <label> <input name=remember type=checkbox v-model=rememberMe>记住我 </label> </div> <a href=javascript:void(0) class=\\\"btn btn-lg btn-success btn-block\\\" @click=doLogin> <template v-if=loading.login> 登录中 </template> <template v-if=!loading.login> 登录 </template> </a> </fieldset> </div> </div> </div> </div> </div> </div> \";\n\n/***/ }),\n\n/***/ \"mBhC\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"Ut0f\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"ux8B\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = __webpack_require__(\"v3dZ\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n/***/ }),\n\n/***/ \"v3dZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Vue, $) {Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mBhC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_templates_login_html__ = __webpack_require__(\"WA0P\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_templates_login_html___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_templates_login_html__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_config_api__ = __webpack_require__(\"k06x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__vuex_store__ = __webpack_require__(\"dV3E\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_js_cookie__ = __webpack_require__(\"lbHh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_js_cookie___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_js_cookie__);\n\n// <script>\n\n\n\n\n\nvar Login = Vue.extend({\n    store: __WEBPACK_IMPORTED_MODULE_3__vuex_store__[\"a\" /* default */],\n    template: __WEBPACK_IMPORTED_MODULE_1_templates_login_html___default.a,\n    name: 'login',\n    data: function data() {\n        var rememberMe = !!__WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.get('rememberMe');\n        return {\n            userName: rememberMe ? __WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.get('name') : \"\",\n            password: rememberMe ? __WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.get('password') : \"\",\n            rememberMe: rememberMe,\n            loading: {\n                login: false\n            }\n        };\n    },\n\n    methods: {\n        alert: function alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        getUser: function getUser() {\n            this.$store.dispatch('user');\n        },\n        doLogin: function doLogin() {\n            var self = this;\n            // self.$validate(true);\n            // if (self.$v.invalid) {\n            //     return;\n            // }\n\n            if (self.loading.login) {\n                return;\n            }\n            self.loading.login = !self.loading.login;\n\n            $.ajax({\n                url: __WEBPACK_IMPORTED_MODULE_2_config_api__[\"a\" /* default */].login,\n                type: 'post',\n                data: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({\n                    userName: self.userName,\n                    password: self.password\n                })\n            }).done(function (resp) {\n                if (self.rememberMe) {\n                    __WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.set('rememberMe', self.rememberMe, {\n                        expires: 365,\n                        domain: 'mock.out2man.com'\n                    });\n                    __WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.set('name', self.userName, {\n                        expires: 365,\n                        domain: 'mock.out2man.com'\n                    });\n                    __WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.set('password', self.password, {\n                        expires: 365,\n                        domain: 'mock.out2man.com'\n                    });\n                } else {\n                    __WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.remove('rememberMe');\n                    __WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.remove('name');\n                    __WEBPACK_IMPORTED_MODULE_4_js_cookie___default.a.remove('password');\n                }\n                self.getUser();\n                self.$router.push({\n                    path: '/project'\n                });\n            }).fail(function (resp) {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '登录失败',\n                    type: 'error'\n                });\n            }).always(function () {\n                self.loading.login = !self.loading.login;\n            });\n        }\n    }\n});\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Login);\n// </script>\n\n/* generated by vue-loader */\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"I3G/\"), __webpack_require__(\"7t+N\")))\n\n/***/ }),\n\n/***/ \"x3GQ\":\n/***/ (function(module, exports) {\n\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.9ed331954d0fd3d4bb08.js","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// /usr/local/lib/~/kil/~/core-js/library/fn/json/stringify.js\n// module id = Ut0f\n// module chunks = 0 1 2","module.exports = \"<div class=login-page> <div class=container> <div class=row> <div class=\\\"col-md-4 col-md-offset-4\\\"> <div class=\\\"login-panel panel panel-default\\\"> <div class=panel-heading> <h3 class=panel-title>请先登录</h3> </div> <div class=panel-body> <fieldset> <div class=form-group> <input type=text class=form-control placeholder=用户名 aria-describedby=userName v-model=userName @keyup.enter=doLogin /> </div> <div class=form-group> <input type=password class=form-control placeholder=密码 aria-describedby=password v-model=password @keyup.enter=doLogin /> </div> <div class=checkbox> <label> <input name=remember type=checkbox v-model=rememberMe>记住我 </label> </div> <a href=javascript:void(0) class=\\\"btn btn-lg btn-success btn-block\\\" @click=doLogin> <template v-if=loading.login> 登录中 </template> <template v-if=!loading.login> 登录 </template> </a> </fieldset> </div> </div> </div> </div> </div> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./templates/login.html\n// module id = WA0P\n// module chunks = 2","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// /usr/local/lib/~/kil/~/babel-runtime/core-js/json/stringify.js\n// module id = mBhC\n// module chunks = 0 1 2","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?{\\\"presets\\\":[[\\\"/usr/local/lib/node_modules/kil/node_modules/babel-preset-env/lib/index.js\\\",{\\\"modules\\\":false}]],\\\"plugins\\\":[\\\"/usr/local/lib/node_modules/kil/node_modules/babel-plugin-transform-runtime/lib/index.js\\\"],\\\"cacheDirectory\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./login.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./js/features/login.vue\n// module id = ux8B\n// module chunks = 2","<script>\nimport template from 'templates/login.html';\nimport API from 'config/api';\nimport store from '../vuex/store';\nimport Cookies from 'js-cookie';\n\nvar Login = Vue.extend({\n    store,\n    template: template,\n    name: 'login',\n    data() {\n        var rememberMe = !!Cookies.get('rememberMe');\n        return {\n            userName: rememberMe ? Cookies.get('name') : \"\",\n            password: rememberMe ? Cookies.get('password') : \"\",\n            rememberMe: rememberMe,\n            loading: {\n                login: false\n            }\n        }\n    },\n    methods: {\n        alert(obj) {\n            this.$store.dispatch('alert', obj);\n        },\n        getUser() {\n            this.$store.dispatch('user');\n        },\n        doLogin() {\n            var self = this;\n            // self.$validate(true);\n            // if (self.$v.invalid) {\n            //     return;\n            // }\n\n            if (self.loading.login) {\n                return;\n            }\n            self.loading.login = !self.loading.login;\n\n            $.ajax({\n                url: API.login,\n                type: 'post',\n                data: JSON.stringify({\n                    userName: self.userName,\n                    password: self.password\n                })\n            }).done((resp) => {\n                if (self.rememberMe) {\n                    Cookies.set('rememberMe', self.rememberMe, {\n                        expires: 365,\n                        domain: 'mock.out2man.com'\n                    });\n                    Cookies.set('name', self.userName, {\n                        expires: 365,\n                        domain: 'mock.out2man.com'\n                    });\n                    Cookies.set('password', self.password, {\n                        expires: 365,\n                        domain: 'mock.out2man.com'\n                    });\n                } else {\n                    Cookies.remove('rememberMe');\n                    Cookies.remove('name');\n                    Cookies.remove('password');\n                }\n                self.getUser();\n                self.$router.push({\n                    path: '/project'\n                });\n            }).fail((resp) => {\n                self.alert({\n                    show: true,\n                    msg: resp.responseText || '登录失败',\n                    type: 'error'\n                })\n            }).always(() => {\n                self.loading.login = !self.loading.login;\n            })\n        }\n    }\n})\n\nexport default Login;\n</script>\n\n\n\n// WEBPACK FOOTER //\n// login.vue?00dbb71d","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// /usr/local/lib/~/kil/~/core-js/library/modules/_core.js\n// module id = x3GQ\n// module chunks = 0 1 2"],"sourceRoot":""}